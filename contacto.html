<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacto - apsan.dev</title>
    <!-- BOOTSTRAP 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="../style.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
        (function () {
            emailjs.init("h6rPSulTGqeoBxMj4");
        })();
    </script>
    <script>
        let keyboardInputDetected = false;

        document.addEventListener('DOMContentLoaded', function() {
            const nombreInput = document.getElementById('nombre');

            if (nombreInput) {
                nombreInput.addEventListener('input', function() {
                    keyboardInputDetected = true;
                });
            }
        });

        function sendEmail() {
            const spamCheck = document.getElementById('spam_check').value;
            const formLoadTime = document.getElementById('form_load_time').value;
            const submissionTime = new Date().getTime();
            const timeDiff = submissionTime - formLoadTime;

            if (spamCheck !== '' || timeDiff < 500 || !keyboardInputDetected) {
                console.log('Bot detected!');
                alert('Error: Mensaje no enviado.');
                return false;
            }

            const name = document.getElementById('nombre').value;
            const email = document.getElementById('email').value;
            const message = document.getElementById('mensaje').value;
            const title = "Mensaje de Contacto desde la web [alejandropsan.github.io]"; // Add the title
            const time = new Date().toLocaleString(); // Add the time

            console.log('Name:', name); // Log the name
            console.log('Email:', email); // Log the email
            console.log('Message:', message); // Log the message

            const templateParams = {
                name: name, // Use 'name' instead of 'from_name'
                from_email: email,
                message: message,
                title: title, // Add the title
                time: time // Add the time
            };

            console.log('Template Parameters:', templateParams);

            emailjs.send("service_5kk4had", "template_ue21bgd", templateParams)
                .then(function (response) {
                    console.log('SUCCESS!', response.status, response.text);
                    alert('Mensaje enviado correctamente!');
                    document.getElementById('nombre').value = '';
                    document.getElementById('email').value = '';
                    document.getElementById('mensaje').value = '';
                }, function (error) {
                    console.log('FAILED...', error);
                    console.error('EmailJS Error:', error); // Log the error object
                    alert('Error al enviar el mensaje. Por favor, inténtalo de nuevo más tarde.');
                });
            return false;
        }

        window.onload = function() {
            document.getElementById('form_load_time').value = new Date().getTime();
        };
    </script>
</head>

<body>
    <nav id="navbar" class="navbar" aria-label="Navegación principal">
        <div class="nav-container">
            <a href="../index.html" class="nav-logo">
                <span>APSAN</span><span class="logo-highlight">.dev</span>
            </a>
            <ul id="navMenu" class="nav-menu">
                <li class="nav-item"><a href="../index.html" class="nav-link">Inicio</a></li>
                <li class="nav-item"><a href="../home.html" class="nav-link">Home</a></li>
                <li class="nav-item"><a href="../web/web.html" class="nav-link">Desarrollo Web</a></li>
                <li class="nav-item"><a href="../mobile/mobile.html" class="nav-link">Desarrollo Móvil</a></li>
                <li class="nav-item"><a href="../adminsystems/adminsystems.html" class="nav-link">SysAdmin</a></li>
                <li class="nav-item"><a href="../oscp/oscp.html" class="nav-link">OSCP</a></li>
                <li class="nav-item"><a href="../sobremi.html" class="nav-link">Sobre Mí</a></li>
                <li class="nav-item"><a href="../contacto.html" class="nav-link nav-link-cta">Contacto</a></li>
            </ul>
            <button id="hamburger" type="button" class="hamburger" aria-label="Menú de navegación">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </div>
    </nav>

    <section class="page-hero">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="../index.html">Inicio</a></li>
                <li class="breadcrumb-item"><a href="../home.html">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page">Contacto</li>
            </ol>
        </nav>
        <h1 class="page-title">
            <span class="page-title-main">Contacto</span>
        </h1>
        <p class="page-subtitle">
            Ponte en contacto conmigo para cualquier consulta o sugerencia.
        </p>
    </section>

    <main class="main-content">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <section class="contact-form">
                        <h2 class="section-title">Formulario de contacto</h2>
                        <div class="section-line"></div>
                        <form onsubmit="return sendEmail();">
                            <div style="display:none;">
                                <label for="spam_check">Cliente:</label>
                                <input type="text" id="spam_check" name="spam_check">
                                <input type="hidden" id="form_load_time" name="form_load_time" value="">
                            </div>
                            <div class="mb-3">
                                <label for="nombre" class="form-label">Nombre</label>
                                <input type="text" class="form-control" id="nombre" name="nombre" required>
                            </div>
                            <div class="mb-3">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" class="form-control" id="email" name="email" required>
                            </div>
                            <div class="mb-3">
                                <label for="mensaje" class="form-label">Mensaje</label>
                                <textarea class="form-control" id="mensaje" name="mensaje" rows="5" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Enviar mensaje</button>
                        </form>
                    </section>
                </div>
                <div class="col-md-6">
                    <section class="contact-info">
                        <h2 class="section-title">Información de contacto</h2>
                        <div class="section-line"></div>
                        <p>Si tienes alguna pregunta o sugerencia, no dudes en ponerte en contacto conmigo.</p>
                        <ul>
                            <li><strong>Email:</strong> <a href="mailto:alejandropsan1@gmail.com">alejandropsan1@gmail.com</a></li>
                            <li><strong>Teléfono:</strong> +34 603384402</li>
                            <li><strong>Dirección:</strong> Elche, España</li>
                        </ul>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <a href="#" class="footer-logo">Apsan.dev</a>
                    <p class="footer-description">Ingeniero Informático especializado en desarrollo web y ciberseguridad. Compartiendo conocimiento técnico y experiencias.</p>
                    <div class="social-links">
                        <a href="https://github.com/alejandropsan" class="social-link" target="_blank" aria-label="GitHub">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
                            </svg>
                        </a>
                        <a href="https://www.linkedin.com/in/alejandropsan/" class="social-link" target="_blank" aria-label="LinkedIn">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                            </svg>
                        </a>
                        <a href="https://x.com/Alex_Periago/" class="social-link" target="_blank" aria-label="Twitter">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                            </svg>
                        </a>
                    </div>
                </div>
                <div class="footer-col">
                    <h4 class="footer-title">Navegación</h4>
                    <ul class="footer-links">
                        <li><a href="#">Inicio</a></li>
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">Contacto</a></li>
                        <li><a href="#">Sobre mí</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4 class="footer-title">Contacto</h4>
                    <ul class="footer-contact">
                        <li><i class="fas fa-map-marker-alt"></i> Capitán Baltasar Tristany, 35, 03201, Elche(Alicante)</li>
                        <li><i class="fas fa-phone"></i> +34 603384402</li>
                        <li><i class="fas fa-envelope"></i> alejandropsan1@gmail.com</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="footer-copyright">
                    &copy; 2025 Apsan.dev. Todos los derechos reservados.
                </p>
                <div class="footer-meta">
                    <a href="#">Términos de uso</a>
                    <a href="#">Política de privacidad</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="../main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
</body>

</html>